<!doctype html>
<html lang="en">

<head>
  <title>jQuery Demo</title>
</head>

<body>

        <h1>Text File Reader</h1>
        <div>
            Select a text file: 
            <input type="file" id="fileInput">
        </div>
        <pre id="fileDisplayArea"><pre>

    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="http://code.jquery.com/ui/1.9.0/jquery-ui.js"></script>
    <script src="../../jquery-csv/src/jquery.csv.js"></script>
    
    <script>
    var csvData;
    window.onload = function() {
        var fileInput = document.getElementById('fileInput');
        var fileDisplayArea = document.getElementById('fileDisplayArea');

        fileInput.addEventListener('change', function(e) {
            var file = fileInput.files[0];
            var textType = /text.*/;

            var reader = new FileReader();

            reader.onload = function(e) {
                fileDisplayArea.innerText = reader.result;
                //console.log(reader.result);
                csvData = $.csv.toObjects(reader.result);
                console.log(csvData);
            }

            console.log(file);
            reader.readAsText(file); 
        });
    }



    </script>
</body>

</html>